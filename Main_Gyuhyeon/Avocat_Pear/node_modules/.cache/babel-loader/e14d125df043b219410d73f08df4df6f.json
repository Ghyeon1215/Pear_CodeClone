{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rbgus\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\User_Frontend\\\\CodeClone(pear)\\\\Pear_CodeClone\\\\Main_Gyuhyeon\\\\Avocat_Pear\\\\src\\\\components\\\\ReportWriting\\\\Modal\\\\SubmitRequest\\\\TeamReportRequest\\\\TeamSubmitReportModal.jsx\";\nimport React, { useState } from \"react\";\nimport SubmitSuccess from \"../../SubmitSuccess\";\nimport * as S from \"../../../../styled/ReportWriting/Modal/SubmitRequest/TeamRequest/TeamSubmitReportStyle\";\nimport { Close } from \"../../../../../assets\";\nimport axios from \"axios\";\n\nconst TeamSubmitReportModal = ({\n  setState,\n  setHei,\n  state,\n  hei,\n  myopa,\n  setMyOpa,\n  title,\n  description,\n  tags,\n  type,\n  access,\n  field,\n  grade,\n  isSubmitted,\n  files,\n  github,\n  teamName,\n  selectedUserList\n}) => {\n  const [view, setView] = useState(\"hidden\");\n  const [opa, setOpa] = useState(\"0\");\n  const ACCESS_TOKEN = localStorage.getItem(\"access-token\");\n  const REFRESH_TOKEN = localStorage.getItem(\"refresh-token\");\n  const Api = axios;\n  const FileApi = axios;\n  const MainUrl = \"http://211.38.86.92:8005\";\n  const FileUrl = \"http://54.180.224.67:3000\";\n\n  const onClick = () => {\n    setState(\"hidden\");\n    setHei(\"0\");\n  };\n\n  const btnClick = () => {\n    var _files$;\n\n    setView(\"visible\");\n    setState(\"hidden\");\n    setMyOpa(\"0\");\n    setOpa(\"1\");\n    console.log((_files$ = files[0]) === null || _files$ === void 0 ? void 0 : _files$.name, selectedUserList);\n    axios.defaults.xsrfCookieName = \"csrftoken\";\n    axios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\n    Api.post(`${MainUrl}/report/team`, {\n      title: `${title}`,\n      description: `${description}`,\n      languages: tags,\n      type: `${type}`,\n      access: `${access}`,\n      field: `${field}`,\n      grade: `${grade}`,\n      isSubmitted: isSubmitted !== null && isSubmitted !== void 0 ? isSubmitted : true,\n      fileName: `${files[0].name}`,\n      github: `${github}`,\n      teamName: `${teamName}`,\n      members: selectedUserList.map(users => {\n        return users.user.email;\n      })\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${ACCESS_TOKEN}`\n      }\n    }).then(response => {\n      console.log(response);\n      const isSubmitFile = new FormData(); // 파일을 이용할 때 FormData\n\n      isSubmitFile.append(\"reportFile\", files[0]); // append = 기존의 것 + @\n\n      const id = response.data; // data.set('report_id', 1) // set = 기존의 것은 삭제 -> 새로운 것 추가\n\n      FileApi.post(`${FileUrl}/report/files/${id}`, isSubmitFile, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          // multipart = 파일 업로드\n          Authorization: `Bearer ${ACCESS_TOKEN}`\n        }\n      }).then(() => {\n        console.log(\"파일 요청 성공\");\n      }).catch(err => {\n        if (err.response.status === 410) {\n          Api.put(`${MainUrl}/auth`, undefined, {\n            headers: {\n              \"X-Refresh-Token\": REFRESH_TOKEN\n            }\n          }).then(res => {\n            if (res.data.access_token) {\n              localStorage.setItem(\"access-token\", ACCESS_TOKEN);\n              console.log(REFRESH_TOKEN);\n              FileApi.post(`${FileUrl}/report/files/${id}`, isSubmitFile, {\n                headers: {\n                  \"Content-Type\": \"multipart/form-data\",\n                  // multipart = 파일 업로드\n                  Authorization: `Bearer ${localStorage.getItem(\"access-token\")}`\n                }\n              });\n            }\n          });\n        }\n      });\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SubmitSuccess, {\n    setView: setView,\n    setOpa: setOpa,\n    view: view,\n    opa: opa,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(S.Main, {\n    visibility: state,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(S.ModalMain, {\n    height: hei,\n    myopa: myopa,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(S.ModalSort, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(S.CloseBtn, {\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Close,\n    alt: \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(S.ModalHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, \"\\uBCF4\\uACE0\\uC11C\\uB97C \"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, \"\\uC81C\\uCD9C\\uD558\\uACA0\\uC2B5\\uB2C8\\uAE4C?\")), /*#__PURE__*/React.createElement(S.ModalMainText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  }, \"\\uCCA8\\uBD80 \\uD30C\\uC77C\\uC758 \\uD655\\uC7A5\\uC790\\uAC00 PDF\\uD615\\uC2DD\\uC774 \\uB9DE\\uB294\\uC9C0 \\uD30C\\uC77C\\uBA85\\uC740 \\uD504\\uB85C\\uC81D\\uD2B8\\uBA85 / \\uD559\\uBC88 / \\uC774\\uB984\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, \"\\uC21C\\uC73C\\uB85C \\uC791\\uC131 \\uB418\\uC5B4\\uC788\\uB294\\uC9C0 \\uB2E4\\uC2DC \\uD55C\\uBC88 \\uB354 \\uD655\\uC778\\uD574\\uC8FC\\uC2DC\\uAE30 \\uBC14\\uB78D\\uB2C8\\uB2E4. \\uB9CC\\uC57D \\uC704\\uC758 \\uB0B4\\uC6A9\\uC744\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, \"\\uC798\\uBABB \\uC791\\uC131\\uD560 \\uACBD\\uC6B0 \\uBCF4\\uACE0\\uC11C\\uAC00 \\uC81C\\uCD9C\\uB418\\uC9C0 \\uC54A\\uC744 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uD655\\uC778\\uD558\\uACE0 \\uC81C\\uCD9C \\uBC14\\uB78D\\uB2C8\\uB2E4.\")), /*#__PURE__*/React.createElement(S.SubmitBtn, {\n    onClick: btnClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }, \"\\uC81C\\uCD9C\"))))));\n};\n\nexport default TeamSubmitReportModal;","map":{"version":3,"sources":["C:/Users/rbgus/OneDrive/바탕 화면/User_Frontend/CodeClone(pear)/Pear_CodeClone/Main_Gyuhyeon/Avocat_Pear/src/components/ReportWriting/Modal/SubmitRequest/TeamReportRequest/TeamSubmitReportModal.jsx"],"names":["React","useState","SubmitSuccess","S","Close","axios","TeamSubmitReportModal","setState","setHei","state","hei","myopa","setMyOpa","title","description","tags","type","access","field","grade","isSubmitted","files","github","teamName","selectedUserList","view","setView","opa","setOpa","ACCESS_TOKEN","localStorage","getItem","REFRESH_TOKEN","Api","FileApi","MainUrl","FileUrl","onClick","btnClick","console","log","name","defaults","xsrfCookieName","xsrfHeaderName","post","languages","fileName","members","map","users","user","email","headers","Authorization","then","response","isSubmitFile","FormData","append","id","data","catch","err","status","put","undefined","res","access_token","setItem"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport SubmitSuccess from \"../../SubmitSuccess\";\r\nimport * as S from \"../../../../styled/ReportWriting/Modal/SubmitRequest/TeamRequest/TeamSubmitReportStyle\";\r\nimport { Close } from \"../../../../../assets\";\r\nimport axios from \"axios\";\r\n\r\nconst TeamSubmitReportModal = ({\r\n  setState,\r\n  setHei,\r\n  state,\r\n  hei,\r\n  myopa,\r\n  setMyOpa,\r\n  title,\r\n  description,\r\n  tags,\r\n  type,\r\n  access,\r\n  field,\r\n  grade,\r\n  isSubmitted,\r\n  files,\r\n  github,\r\n  teamName,\r\n  selectedUserList,\r\n}) => {\r\n  const [view, setView] = useState(\"hidden\");\r\n  const [opa, setOpa] = useState(\"0\");\r\n\r\n  const ACCESS_TOKEN = localStorage.getItem(\"access-token\");\r\n  const REFRESH_TOKEN = localStorage.getItem(\"refresh-token\");\r\n\r\n  const Api = axios;\r\n  const FileApi = axios;\r\n  const MainUrl = \"http://211.38.86.92:8005\";\r\n  const FileUrl = \"http://54.180.224.67:3000\";\r\n\r\n  const onClick = () => {\r\n    setState(\"hidden\");\r\n    setHei(\"0\");\r\n  };\r\n\r\n  const btnClick = () => {\r\n    setView(\"visible\");\r\n    setState(\"hidden\");\r\n    setMyOpa(\"0\");\r\n    setOpa(\"1\");\r\n\r\n    console.log(files[0]?.name, selectedUserList);\r\n    axios.defaults.xsrfCookieName = \"csrftoken\";\r\n    axios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\r\n    Api.post(\r\n      `${MainUrl}/report/team`,\r\n      {\r\n        title: `${title}`,\r\n        description: `${description}`,\r\n        languages: tags,\r\n        type: `${type}`,\r\n        access: `${access}`,\r\n        field: `${field}`,\r\n        grade: `${grade}`,\r\n        isSubmitted: isSubmitted ?? true,\r\n        fileName: `${files[0].name}`,\r\n        github: `${github}`,\r\n        teamName: `${teamName}`,\r\n        members: selectedUserList.map((users) => {\r\n          return users.user.email;\r\n        }),\r\n      },\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${ACCESS_TOKEN}`,\r\n        },\r\n      }\r\n    )\r\n      .then((response) => {\r\n        console.log(response);\r\n        const isSubmitFile = new FormData(); // 파일을 이용할 때 FormData\r\n        isSubmitFile.append(\"reportFile\", files[0]); // append = 기존의 것 + @\r\n        const id = response.data;\r\n        // data.set('report_id', 1) // set = 기존의 것은 삭제 -> 새로운 것 추가\r\n        FileApi.post(`${FileUrl}/report/files/${id}`, isSubmitFile, {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\", // multipart = 파일 업로드\r\n            Authorization: `Bearer ${ACCESS_TOKEN}`,\r\n          },\r\n        })\r\n          .then(() => {\r\n            console.log(\"파일 요청 성공\");\r\n          })\r\n          .catch((err) => {\r\n            if (err.response.status === 410) {\r\n              Api.put(`${MainUrl}/auth`, undefined, {\r\n                headers: {\r\n                  \"X-Refresh-Token\": REFRESH_TOKEN,\r\n                },\r\n              }).then((res) => {\r\n                if (res.data.access_token) {\r\n                  localStorage.setItem(\"access-token\", ACCESS_TOKEN);\r\n                  console.log(REFRESH_TOKEN);\r\n                  FileApi.post(`${FileUrl}/report/files/${id}`, isSubmitFile, {\r\n                    headers: {\r\n                      \"Content-Type\": \"multipart/form-data\", // multipart = 파일 업로드\r\n                      Authorization: `Bearer ${localStorage.getItem(\r\n                        \"access-token\"\r\n                      )}`,\r\n                    },\r\n                  });\r\n                }\r\n              });\r\n            }\r\n          });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SubmitSuccess setView={setView} setOpa={setOpa} view={view} opa={opa} />\r\n      <S.Main visibility={state}>\r\n        <S.ModalMain height={hei} myopa={myopa}>\r\n          <S.ModalSort>\r\n            <S.CloseBtn onClick={onClick}>\r\n              <span>\r\n                <img src={Close} alt=\"Close\" />\r\n              </span>\r\n            </S.CloseBtn>\r\n            <S.ModalHeader>\r\n              <span>보고서를 </span>\r\n              <span>제출하겠습니까?</span>\r\n            </S.ModalHeader>\r\n            <S.ModalMainText>\r\n              <span>\r\n                첨부 파일의 확장자가 PDF형식이 맞는지 파일명은 프로젝트명 / 학번\r\n                / 이름\r\n              </span>\r\n              <p></p>\r\n              <span>\r\n                순으로 작성 되어있는지 다시 한번 더 확인해주시기 바랍니다. 만약\r\n                위의 내용을\r\n              </span>\r\n              <p></p>\r\n              <span>\r\n                잘못 작성할 경우 보고서가 제출되지 않을 수 있습니다. 확인하고\r\n                제출 바랍니다.\r\n              </span>\r\n            </S.ModalMainText>\r\n            <S.SubmitBtn onClick={btnClick}>\r\n              <span>제출</span>\r\n            </S.SubmitBtn>\r\n          </S.ModalSort>\r\n        </S.ModalMain>\r\n      </S.Main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TeamSubmitReportModal;\r\n"]},"metadata":{},"sourceType":"module"}