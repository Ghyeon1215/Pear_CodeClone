{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rbgus\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\User_Frontend\\\\CodeClone(pear)\\\\Pear_CodeClone\\\\Main_Gyuhyeon\\\\Avocat_Pear\\\\src\\\\components\\\\ReportWriting\\\\ReportWritingPath\\\\ReportWritingSole\\\\SoleReportWriting.jsx\";\nimport React, { useState } from \"react\";\nimport SoleSubmitReportModal from \"../../Modal/SubmitRequest/SoleReportRequest/SoleSubmitReportModal\";\nimport * as S from \"../../../styled/ReportWriting/ReportWritingPath/ReportWritingSole/style\";\nimport { link } from \"../../../../assets\";\nimport { github as gitgubimg } from \"../../../../assets\";\nimport axios from \"axios\";\n\nconst SoleReportWriting = ({\n  type,\n  access,\n  field,\n  grade\n}) => {\n  const [state, setState] = useState(\"hidden\");\n  const [hei, setHei] = useState(\"0\");\n  const [myopa, setMyOpa] = useState(\"1\");\n  const [tags, setTags] = useState([]);\n  const [files, setFiles] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [github, setGithub] = useState(\"\");\n  const ACCESS_TOKEN = localStorage.getItem(\"access-token\");\n  const MainUrl = \"http://211.38.86.92:8005\";\n\n  const onTitleChange = e => {\n    setTitle(e.target.value);\n  };\n\n  const onDescriptionChange = e => {\n    setDescription(e.target.value);\n  };\n\n  const onGithubChange = e => {\n    setGithub(e.target.value);\n  };\n\n  const onClick = () => {\n    setState(\"visible\");\n    setHei(\"280px\");\n    setMyOpa(\"1\");\n  };\n\n  const onLanguageChange = e => {\n    if (e.key === \"Enter\" && e.target.value.trim()) {\n      const newTags = [...tags];\n      newTags[tags.length] = e.target.value;\n      setTags(newTags);\n      e.target.value = \"\";\n    } else if (e.key === \",\" && e.target.value.trim()) {\n      const newTags = [...tags];\n      newTags[tags.length] = e.target.value;\n      setTags(newTags);\n      e.target.value = \"\";\n    }\n  };\n\n  const onLanguageClick = index => {\n    const delTags = [...tags];\n    delTags.splice(index, 1);\n    setTags(delTags);\n  };\n\n  const onClickFile = () => {\n    const inputElement = document.createElement(\"input\");\n    inputElement.setAttribute(\"type\", \"file\");\n    inputElement.setAttribute(\"accept\", \".pdf, .hwp\");\n    inputElement.click();\n\n    inputElement.onchange = () => {\n      const prevFiles = [...files];\n\n      for (const file of inputElement.files) {\n        prevFiles.push(file);\n      }\n\n      console.log(inputElement.files);\n      setFiles(prevFiles);\n      console.log(inputElement.value, inputElement.files[0].name);\n    };\n  };\n\n  const onDelClickFile = index => {\n    const delFile = [...files];\n    delFile.splice(index, 1);\n    setFiles(delFile);\n  };\n\n  const attachFiles = index => {\n    if (files.length !== 0 && files.length < 2) {\n      return files.map((file, i) => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: i,\n          onClick: () => onDelClickFile(i),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 11\n          }\n        }, file.name);\n      });\n    } else if (files.length > 1) {\n      alert(\"파일은 하나만 추가할 수 있습니다.\");\n      files.splice(index, 1);\n      return false;\n    }\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 12\n      }\n    }, \"\\uC790\\uC2E0\\uC774 \\uC791\\uC131\\uD55C \\uAC1C\\uBC1C \\uBCF4\\uACE0\\uC11C\\uC758 \\uD30C\\uC77C\\uC744 \\uC62C\\uB824\\uC8FC\\uC138\\uC694.\");\n  };\n\n  const isSaveData = () => {\n    axios.post(`${MainUrl}/report/sole`, {\n      title: `${title}`,\n      description: `${description}`,\n      languages: tags,\n      type: `${type}`,\n      access: `${access}`,\n      field: `${field}`,\n      grade: `${grade}`,\n      isSubmitted: true,\n      fileName: `${files[0].name}`,\n      github: `${github}`\n    }, {\n      headers: {\n        \"Contect-Type\": \"application/json\",\n        Authorization: `Bearer ${ACCESS_TOKEN}`\n      }\n    }).then(() => {\n      console.log(\"임시저장 성공\");\n    }).catch(() => {\n      console.log(\"임시저장 실패\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SoleSubmitReportModal, {\n    setState: setState,\n    setHei: setHei,\n    setMyOpa: setMyOpa,\n    state: state,\n    hei: hei,\n    myopa: myopa,\n    title: title,\n    description: description,\n    tags: tags,\n    type: type,\n    access: access,\n    field: field,\n    grade: grade,\n    files: files,\n    github: github,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(S.ReportBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(S.ReportMain, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(S.ReportTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"\\uAC1C\\uBC1C \\uBCF4\\uACE0\\uC11C\\uC758 \\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n    onChange: onTitleChange,\n    value: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(S.UseLang, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, tags.map((tag, i) => {\n    return /*#__PURE__*/React.createElement(S.Tag, {\n      onClick: () => onLanguageClick(i),\n      index: i,\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, tag);\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"\\uAC1C\\uBC1C\\uC5D0 \\uC0AC\\uC6A9\\uD55C \\uC5B8\\uC5B4\\uB4E4\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n    onKeyPress: onLanguageChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(S.ReprotWriteBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"writingbox\",\n    rows: \"15\",\n    cols: \"40\",\n    minLength: \"10\",\n    placeholder: \"\\uC790\\uC2E0\\uC774 \\uC791\\uC131\\uD55C \\uAC1C\\uBC1C\\uBCF4\\uACE0\\uC11C\\uC5D0 \\uB300\\uD55C \\uC18C\\uAC1C\\uAE00\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n    onChange: onDescriptionChange,\n    style: {\n      resize: \"none\"\n    },\n    value: description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(S.LinkBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: gitgubimg,\n    alt: \"gitgub-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"\\uC790\\uC2E0\\uC758 GITHUB \\uB9C1\\uD06C\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694 (\\uC120\\uD0DD)\",\n    onChange: onGithubChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(S.AttachFile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(S.inAttachFile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: link,\n    alt: \"attachfile\",\n    onClick: onClickFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }), attachFiles()))), /*#__PURE__*/React.createElement(S.SubmitBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(S.SaveSubBtn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(S.SaveBtn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: isSaveData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, \"\\uC784\\uC2DC\\uC800\\uC7A5\")), /*#__PURE__*/React.createElement(S.SubBtn, {\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 15\n    }\n  }, \"\\uC81C\\uCD9C\\uD558\\uAE30\"))))));\n};\n\nexport default SoleReportWriting;","map":{"version":3,"sources":["C:/Users/rbgus/OneDrive/바탕 화면/User_Frontend/CodeClone(pear)/Pear_CodeClone/Main_Gyuhyeon/Avocat_Pear/src/components/ReportWriting/ReportWritingPath/ReportWritingSole/SoleReportWriting.jsx"],"names":["React","useState","SoleSubmitReportModal","S","link","github","gitgubimg","axios","SoleReportWriting","type","access","field","grade","state","setState","hei","setHei","myopa","setMyOpa","tags","setTags","files","setFiles","title","setTitle","description","setDescription","setGithub","ACCESS_TOKEN","localStorage","getItem","MainUrl","onTitleChange","e","target","value","onDescriptionChange","onGithubChange","onClick","onLanguageChange","key","trim","newTags","length","onLanguageClick","index","delTags","splice","onClickFile","inputElement","document","createElement","setAttribute","click","onchange","prevFiles","file","push","console","log","name","onDelClickFile","delFile","attachFiles","map","i","alert","isSaveData","post","languages","isSubmitted","fileName","headers","Authorization","then","catch","tag","resize"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport SoleSubmitReportModal from \"../../Modal/SubmitRequest/SoleReportRequest/SoleSubmitReportModal\";\r\nimport * as S from \"../../../styled/ReportWriting/ReportWritingPath/ReportWritingSole/style\";\r\nimport { link } from \"../../../../assets\";\r\nimport { github as gitgubimg } from \"../../../../assets\";\r\nimport axios from \"axios\";\r\n\r\nconst SoleReportWriting = ({ type, access, field, grade }) => {\r\n  const [state, setState] = useState(\"hidden\");\r\n  const [hei, setHei] = useState(\"0\");\r\n  const [myopa, setMyOpa] = useState(\"1\");\r\n  const [tags, setTags] = useState([]);\r\n  const [files, setFiles] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [github, setGithub] = useState(\"\");\r\n\r\n  const ACCESS_TOKEN = localStorage.getItem(\"access-token\");\r\n  const MainUrl = \"http://211.38.86.92:8005\";\r\n\r\n  const onTitleChange = (e) => {\r\n    setTitle(e.target.value);\r\n  };\r\n\r\n  const onDescriptionChange = (e) => {\r\n    setDescription(e.target.value);\r\n  };\r\n\r\n  const onGithubChange = (e) => {\r\n    setGithub(e.target.value);\r\n  };\r\n\r\n  const onClick = () => {\r\n    setState(\"visible\");\r\n    setHei(\"280px\");\r\n    setMyOpa(\"1\");\r\n  };\r\n\r\n  const onLanguageChange = (e) => {\r\n    if (e.key === \"Enter\" && e.target.value.trim()) {\r\n      const newTags = [...tags];\r\n      newTags[tags.length] = e.target.value;\r\n      setTags(newTags);\r\n      e.target.value = \"\";\r\n    } else if (e.key === \",\" && e.target.value.trim()) {\r\n      const newTags = [...tags];\r\n      newTags[tags.length] = e.target.value;\r\n      setTags(newTags);\r\n      e.target.value = \"\";\r\n    }\r\n  };\r\n\r\n  const onLanguageClick = (index) => {\r\n    const delTags = [...tags];\r\n    delTags.splice(index, 1);\r\n    setTags(delTags);\r\n  };\r\n\r\n  const onClickFile = () => {\r\n    const inputElement = document.createElement(\"input\");\r\n    inputElement.setAttribute(\"type\", \"file\");\r\n    inputElement.setAttribute(\"accept\", \".pdf, .hwp\");\r\n    inputElement.click();\r\n    inputElement.onchange = () => {\r\n      const prevFiles = [...files];\r\n      for (const file of inputElement.files) {\r\n        prevFiles.push(file);\r\n      }\r\n      console.log(inputElement.files);\r\n      setFiles(prevFiles);\r\n      console.log(inputElement.value, inputElement.files[0].name);\r\n    };\r\n  };\r\n\r\n  const onDelClickFile = (index) => {\r\n    const delFile = [...files];\r\n    delFile.splice(index, 1);\r\n    setFiles(delFile);\r\n  };\r\n\r\n  const attachFiles = (index) => {\r\n    if (files.length !== 0 && files.length < 2) {\r\n      return files.map((file, i) => {\r\n        return (\r\n          <div key={i} onClick={() => onDelClickFile(i)}>\r\n            {file.name}\r\n          </div>\r\n        );\r\n      });\r\n    } else if (files.length > 1) {\r\n      alert(\"파일은 하나만 추가할 수 있습니다.\");\r\n      files.splice(index, 1);\r\n      return false;\r\n    }\r\n    return <span>자신이 작성한 개발 보고서의 파일을 올려주세요.</span>;\r\n  };\r\n\r\n  const isSaveData = () => {\r\n    axios\r\n      .post(\r\n        `${MainUrl}/report/sole`,\r\n        {\r\n          title: `${title}`,\r\n          description: `${description}`,\r\n          languages: tags,\r\n          type: `${type}`,\r\n          access: `${access}`,\r\n          field: `${field}`,\r\n          grade: `${grade}`,\r\n          isSubmitted: true,\r\n          fileName: `${files[0].name}`,\r\n          github: `${github}`,\r\n        },\r\n        {\r\n          headers: {\r\n            \"Contect-Type\": \"application/json\",\r\n            Authorization: `Bearer ${ACCESS_TOKEN}`,\r\n          },\r\n        }\r\n      )\r\n      .then(() => {\r\n        console.log(\"임시저장 성공\");\r\n      })\r\n      .catch(() => {\r\n        console.log(\"임시저장 실패\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SoleSubmitReportModal\r\n        setState={setState}\r\n        setHei={setHei}\r\n        setMyOpa={setMyOpa}\r\n        state={state}\r\n        hei={hei}\r\n        myopa={myopa}\r\n        title={title}\r\n        description={description}\r\n        tags={tags}\r\n        type={type}\r\n        access={access}\r\n        field={field}\r\n        grade={grade}\r\n        files={files}\r\n        github={github}\r\n      />\r\n\r\n      <S.ReportBody>\r\n        <S.ReportMain>\r\n          <S.ReportTitle>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"개발 보고서의 제목을 입력해주세요\"\r\n              onChange={onTitleChange}\r\n              value={title}\r\n            />\r\n          </S.ReportTitle>\r\n          <S.UseLang>\r\n            {tags.map((tag, i) => {\r\n              return (\r\n                <S.Tag onClick={() => onLanguageClick(i)} index={i} key={i}>\r\n                  {tag}\r\n                </S.Tag>\r\n              );\r\n            })}\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"개발에 사용한 언어들을 입력해주세요\"\r\n              onKeyPress={onLanguageChange}\r\n            />\r\n          </S.UseLang>\r\n          <S.ReprotWriteBox>\r\n            <textarea\r\n              name=\"writingbox\"\r\n              rows=\"15\"\r\n              cols=\"40\"\r\n              minLength=\"10\"\r\n              placeholder=\"자신이 작성한 개발보고서에 대한 소개글을 입력해주세요\"\r\n              onChange={onDescriptionChange}\r\n              style={{ resize: \"none\" }}\r\n              value={description}\r\n            ></textarea>\r\n          </S.ReprotWriteBox>\r\n          <S.LinkBox>\r\n            <span>\r\n              <div>\r\n                <img src={gitgubimg} alt=\"gitgub-link\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"자신의 GITHUB 링크를 입력해주세요 (선택)\"\r\n                  onChange={onGithubChange}\r\n                />\r\n              </div>\r\n            </span>\r\n          </S.LinkBox>\r\n          <S.AttachFile>\r\n            <S.inAttachFile>\r\n              <img src={link} alt=\"attachfile\" onClick={onClickFile} />\r\n              {attachFiles()}\r\n            </S.inAttachFile>\r\n          </S.AttachFile>\r\n        </S.ReportMain>\r\n        <S.SubmitBox>\r\n          <S.SaveSubBtn>\r\n            <S.SaveBtn>\r\n              <div onClick={isSaveData}>임시저장</div>\r\n            </S.SaveBtn>\r\n            <S.SubBtn onClick={onClick}>\r\n              <div>제출하기</div>\r\n            </S.SubBtn>\r\n          </S.SaveSubBtn>\r\n        </S.SubmitBox>\r\n      </S.ReportBody>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SoleReportWriting;\r\n"]},"metadata":{},"sourceType":"module"}